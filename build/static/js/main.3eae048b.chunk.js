(this["webpackJsonpabz-users"]=this["webpackJsonpabz-users"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(10),l=a.n(s),i=a(4),c=a(11),o=a(32),m=a(21),u=a(3),p="GET_USERS",f="GET_USERS_ERROR",d="SET_URL_OBJECT",b="GET_POSITIONS",E="GET_TOKEN",h="REFRESH_USERS",g="SPINNER_ON",v="SPINNER_OFF",N="OPEN_MODAL",y="CLOSE_MODAL",O="OPEN_MOBILE_MENU",_="CLOSE_MOBILE_MENU",j={users:[],usersError:null,url_obj:null,positions:[],token:null},x=a(33),w=Object(c.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case p:return Object(u.a)(Object(u.a)({},e),{},{users:[].concat(Object(m.a)(e.users),Object(m.a)(n))});case f:return Object(u.a)(Object(u.a)({},e),{},{usersError:n});case d:return Object(u.a)(Object(u.a)({},e),{},{url_obj:n});case b:return Object(u.a)(Object(u.a)({},e),{},{positions:n});case E:return Object(u.a)(Object(u.a)({},e),{},{token:n});case h:return Object(u.a)(Object(u.a)({},e),{},{users:n});default:return e}},spinner:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=t.type;switch(a){case g:return!0;case v:return!1;default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{open:!1,response:null},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case N:return{open:!0,response:n};case y:return Object(u.a)(Object(u.a)({},e),{},{open:!1});default:return e}},mobileMenuOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,a=t.type;switch(a){case O:return!0;case _:return!1;default:return e}}}),k=Object(c.createStore)(w,Object(o.composeWithDevTools)(Object(c.applyMiddleware)(x.a))),S=a(5),M=function(e){return{type:f,payload:e}},L=function(e){return{type:d,payload:e}},C=function(e){return{type:b,payload:e}},T=function(e){return{type:E,payload:e}},z=function(){return{type:_}},R=a(2),F=a.n(R),P=(a(48),a(14),Object(i.b)(null,{openMobileMenu:function(){return{type:O}}})((function(e){var t=e.openMobileMenu,a=Object(n.useContext)(se).isDesktop;return r.a.createElement("nav",{className:"nav"},r.a.createElement("div",{className:"nav-bar container"},r.a.createElement("a",{href:"# ",className:"nav-bar_logo"},"logo"),a?r.a.createElement("ul",{className:"nav-bar_list"},r.a.createElement("li",{className:"nav-bar_list-item"},r.a.createElement(F.a,{href:"#register"},"About me")),r.a.createElement("li",{className:"nav-bar_list-item"},r.a.createElement(F.a,{href:"#register"},"Relationships")),r.a.createElement("li",{className:"nav-bar_list-item"},r.a.createElement(F.a,{href:"#register"},"Requirements")),r.a.createElement("li",{className:"nav-bar_list-item"},r.a.createElement(F.a,{href:"#register"},"Users")),r.a.createElement("li",{className:"nav-bar_list-item"},r.a.createElement(F.a,{href:"#register"},"Sign up"))):r.a.createElement("div",{onClick:function(){t()},className:"nav-bar_burger"})))}))),U=(a(49),function(e){var t=e.name,a=e.type,n=e.onHandleClick;return r.a.createElement("button",{type:a,className:"primary-btn",onClick:n},t)}),W=(a(50),function(){var e=Object(n.useContext)(se).isMobile;return r.a.createElement("section",{className:"banner"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"banner-title"},"Test assignment for Frontend Developer position"),e?r.a.createElement("p",{className:"banner-text"},"We kindly remind you that your test assignment should be submitted as a link to github/bitbucket repository."):r.a.createElement("p",{className:"banner-text"},"We kindly remind you that your test assignment should be submitted as a link to github/bitbucket repository. Please be patient, we consider and respond to every application that meets minimum requirements. We look forward to your submission. Good luck! The photo has to scale in the banner area on the different screens"),r.a.createElement(F.a,{href:"#register"},r.a.createElement(U,{name:"Sing up now",type:"button"}))))}),A=(a(51),function(){return r.a.createElement("section",{className:"about container"},r.a.createElement("h2",{className:"about-title"},"Let's get acquainted"),r.a.createElement("div",{className:"about-description"},r.a.createElement("h3",{className:"about-description-title"},"I am cool frontend developer"),r.a.createElement("p",{className:"about-description-text"},"We will evaluate how clean your approach to writing CSS and Javascript code is. You can use any CSS and Javascript 3rd party libraries without any restriction."),r.a.createElement("p",{className:"about-description-text"},"If 3rd party css/javascript libraries are added to the project via bower/npm/yarn you will get bonus points. If you use any task runner (gulp/webpack) you will get bonus points as well. Slice service directory page P\u200bSD mockup\u200b into HTML5/CSS3.")),r.a.createElement(F.a,{href:"#register",className:"about-btn"},"Sing up now"))}),I=a(7),D=a.n(I),B=a(12),H=a(13),X=a.n(H),G=(a(70),a(36)),$=Object(i.b)((function(e){var t=e.user;return{users:t.users,error:t.usersError,url_obj:t.url_obj}}),{fetchUsers:function(e){return function(){var t=Object(B.a)(D.a.mark((function t(a){var n,r;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X.a.get(e);case 3:(n=t.sent).data.success?(r=n.data.users.sort((function(e,t){return t.registration_timestamp-e.registration_timestamp})),a({type:p,payload:r}),a(L(n.data.links))):a(M(n.data.message)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(M(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.fetchUsers,s=e.users,l=e.error,i=e.url_obj;Object(n.useEffect)((function(){t("https://frontend-test-assignment-api.abz.agency/api/v1/users?page=1&count=6")}),[t]);var c=Object(n.useState)(!0),o=Object(S.a)(c,2),m=o[0],u=o[1],p=Object(n.useState)(!1),f=Object(S.a)(p,2),d=f[0],b=f[1],E=function(e){e.target.scrollWidth>200&&(e.target.style.cursor="pointer",b(!0))},h=function(e){b(!1)};return r.a.createElement("section",{className:"users"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"users-title"},"Our cheerful users"),r.a.createElement("p",{className:"users-text"},"Attention! Sorting users by registration date"),r.a.createElement("ul",{className:"users-list container"},0!==s.length&&s.map((function(e){return r.a.createElement("li",{key:e.id,className:"users-list_item"},r.a.createElement("img",{src:"".concat(e.photo),onError:function(e){m&&(u(!1),e.target.src=a(71))},alt:"",className:"users-list_item-img"}),r.a.createElement("h3",{className:e.name.length<=15?"users-list_item-name":"users-list_item-long"},e.name),r.a.createElement("p",{className:"users-list_item-info"},e.position),r.a.createElement("p",{"data-tip":e.email,onMouseOver:E,onMouseOut:h,className:"users-list_item-info"},e.email),d&&r.a.createElement(G.a,{place:"bottom"}),r.a.createElement("p",{className:"users-list_item-info"},e.phone))}))),null!==l&&r.a.createElement("h3",null,l),null===l&&null!==i&&null!==i.next_url&&r.a.createElement(U,{name:"Show more",onHandleClick:function(){null!==i&&i.next_url&&(t(i.next_url),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}))}})))})),J=a(17),q=(a(72),Object(i.b)((function(e){return{positions:e.user.positions}}),{fetchPositions:function(){return function(){var e=Object(B.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("https://frontend-test-assignment-api.abz.agency/api/v1/positions");case 3:(a=e.sent).data.success?t(C(a.data.positions)):t(C(a.data.message)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(C(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.fetchPositions,a=e.positions,s=e.onHanleChange,l=e.position;return Object(n.useEffect)((function(){t()}),[t]),r.a.createElement(r.a.Fragment,null,"string"!==typeof a?r.a.createElement(r.a.Fragment,null,0!==a.length&&r.a.createElement("h3",{className:"position-title"},"Select your position"),r.a.createElement("ul",{className:"position-list"},0!==a.length&&a.map((function(e){return r.a.createElement("li",{key:e.id,className:"position-list_item"},r.a.createElement("input",{onChange:s,value:e.name,checked:l.id===e.id,type:"radio",name:"position",id:e.id}),r.a.createElement("label",{htmlFor:e.id,className:"position-list_item-label"},e.name))})))):r.a.createElement("h3",null,a))}))),Y=(a(73),Object(i.b)((function(e){return{token:e.user.token}}),{fetchToken:function(){return function(){var e=Object(B.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("https://frontend-test-assignment-api.abz.agency/api/v1/token");case 3:a=e.sent,t(T(a.data.token)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(T(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},refreshUsers:function(){return function(){var e=Object(B.a)(D.a.mark((function e(t){var a,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("https://frontend-test-assignment-api.abz.agency/api/v1/users?page=1&count=6");case 3:(a=e.sent).data.success?(n=a.data.users.sort((function(e,t){return t.registration_timestamp-e.registration_timestamp})),t({type:h,payload:n}),t(L(a.data.links))):t(M(a.data.message)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(M(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},spinnerON:function(){return{type:g}},spinnerOFF:function(){return{type:v}},openModal:function(e){return{type:N,payload:e}}})((function(e){var t=e.fetchToken,a=e.token,s=e.refreshUsers,l=e.spinnerON,i=e.spinnerOFF,c=e.openModal;Object(n.useEffect)((function(){t()}),[t]);var o=Object(n.useState)({name:"",email:"",phone:""}),m=Object(S.a)(o,2),p=m[0],f=m[1],d=Object(n.useState)({id:1,name:"Lawyer"}),b=Object(S.a)(d,2),E=b[0],h=b[1],g=Object(n.useState)(null),v=Object(S.a)(g,2),N=v[0],y=v[1],O=Object(n.useState)(!0),_=Object(S.a)(O,2),j=_[0],x=_[1],w=Object(n.useState)(!0),k=Object(S.a)(w,2),M=k[0],L=k[1],C=Object(n.useState)(!0),T=Object(S.a)(C,2),z=T[0],R=T[1],F=Object(n.useState)(!0),P=Object(S.a)(F,2),W=P[0],A=P[1],I=function(e){e.persist(),f((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(J.a)({},e.target.name,e.target.value))}))},H=function(){var e=Object(B.a)(D.a.mark((function e(n){var r,o;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==p.name&&""!==p.email&&""!==p.phone&&null!==N){e.next=3;break}return e.abrupt("return");case 3:return l(),e.prev=4,(r=new FormData).append("name",p.name),r.append("email",p.email),r.append("phone",p.phone),r.append("position_id",E.id),r.append("photo",N),e.next=13,X.a.post("https://frontend-test-assignment-api.abz.agency/api/v1/users",r,{headers:{Token:a,"Content-Type":"multipart/form-data"}});case 13:(o=e.sent).data.success&&s(),i(),c(o.data),t(),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(4),c(e.t0.response.data),i();case 24:f({name:"",email:"",phone:""}),h({id:1,name:"Lawyer"}),y(null);case 27:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("section",{className:"register container"},r.a.createElement("h2",{id:"register",className:"register-title"},"Register to get a work"),r.a.createElement("p",{className:"register-text"},"Attention! After successful registration and alert, update the list of users in the block from the top"),r.a.createElement("form",{onSubmit:H,className:"register-form"},r.a.createElement("div",{className:"register-form_inputWrap"},r.a.createElement("label",{htmlFor:"name",className:"register-form_label"},"Name"),r.a.createElement("input",{onChange:I,value:p.name,onBlur:function(){/^[a-zA-z -]{2,60}$/.test(p.name)?x(!0):x(!1)},type:"text",id:"name",name:"name",placeholder:"Your name",className:j?"register-form_input":"register-form_inputWrong"}),!j&&r.a.createElement("p",{className:"register-form_error"},"Name should be from 2 to 60 characters long")),r.a.createElement("div",{className:"register-form_inputWrap"},r.a.createElement("label",{htmlFor:"email",className:"register-form_label"},"Email"),r.a.createElement("input",{onChange:I,value:p.email,onBlur:function(){/^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/.test(p.email)?L(!0):L(!1)},type:"email",id:"email",name:"email",placeholder:"Your email",className:M?"register-form_input":"register-form_inputWrong"}),!M&&r.a.createElement("p",{className:"register-form_error"},"Please enter a valid email")),r.a.createElement("div",{className:"register-form_inputWrap"},r.a.createElement("label",{htmlFor:"phone",className:"register-form_label"},"Phone number"),r.a.createElement("input",{onChange:I,value:p.phone,onBlur:function(){/^[+]{0,1}380([0-9]{9})$/.test(p.phone)?R(!0):R(!1)},type:"tel",id:"phone",name:"phone",placeholder:"+380 XX XXX XX XX",className:z?"register-form_input":"register-form_inputWrong"}),z?r.a.createElement("p",{className:"register-form_input-text"},"Enter phone number in open format"):r.a.createElement("p",{className:"register-form_error"},"Phone number should start with +380 and contain 12 digits")),r.a.createElement(q,{onHanleChange:function(e){h({id:+e.target.id,name:e.target.value})},position:E}),r.a.createElement("h3",{className:"register-form_title"},"Photo"),r.a.createElement("div",{className:"register-form_file"},r.a.createElement("label",{htmlFor:"file",className:W?"register-form_file-label":"register-form_file-labelWrong"},N&&N.name||"Upload your photo"),r.a.createElement("input",{onChange:function(e){var t=e.currentTarget.files[0];!/.*\.(jpg|jpeg)$/.test(t.name.toLowerCase())||t.size>5e6?A(!1):(A(!0),y(t));var a=new FileReader;a.onload=function(){var e=new Image;e.onload=function(){e.width<70||e.height<70?A(!1):A(!0)},e.src=a.result},a.readAsDataURL(e.currentTarget.files[0])},type:"file",name:"file",id:"file",className:"register-form_file-input"}),!W&&r.a.createElement("p",{className:"register-form_error"},"Upload jpg/jpeg images only; at least 70x70px; size must not exceed 5MB")),r.a.createElement("div",{className:"register-form_btn"},r.a.createElement(U,{name:"Sing up now",type:"submit"}))))}))),K=(a(74),function(){return r.a.createElement("footer",{className:"footer"},"\xa9 abz.agency specially for the test task")}),Z=a(34),Q=a.n(Z),V=(a(94),function(){return r.a.createElement("div",{className:"overlay"},r.a.createElement(Q.a,{type:"TailSpin",color:"#1b4a8a",height:100,width:100,timeout:5e3,className:"spinner"}))}),ee=(a(95),Object(i.b)(null,{closeModal:function(){return{type:y}}})((function(e){var t=e.response,a=e.closeModal;return r.a.createElement("div",{onClick:function(e){e.target!==e.currentTarget&&"close-modal"!==e.target.dataset.action||a()},className:"overlay"},r.a.createElement("div",{className:"overlay-modal"},r.a.createElement("h3",{className:"overlay-modal_title"},t.success?"Success!":"Error!"),r.a.createElement("div",{className:"overlay-modal_response"},t.message),r.a.createElement("button",{"data-action":"close-modal",className:"overlay-modal_btn"},"Great"),r.a.createElement("span",{"data-action":"close-modal",className:"overlay-modal_closeBtn"},r.a.createElement("svg",{"data-action":"close-modal",width:"12px",height:"12px"},r.a.createElement("path",{"data-action":"close-modal","fill-rule":"evenodd",d:"M11.998,9.899 L9.899,11.998 L6.000,8.099 L2.101,11.998 L0.002,9.899 L3.901,6.000 L0.002,2.101 L2.101,0.002 L6.000,3.901 L9.899,0.002 L11.998,2.101 L8.099,6.000 L11.998,9.899 Z"})))))}))),te=(a(96),Object(i.b)(null,{closeMobileMenu:z})((function(e){var t=e.closeMobileMenu;return r.a.createElement("div",{onClick:function(e){e.target===e.currentTarget&&t()},className:"overlay"},r.a.createElement("div",{className:"navmenu"},r.a.createElement("a",{href:"# ",className:"navmenu-logo"},"logo"),r.a.createElement("ul",{className:"navmenu-list"},r.a.createElement("li",{className:"navmenu-list_item"},r.a.createElement(F.a,{href:"#register"},"About me")),r.a.createElement("li",{className:"navmenu-list_item"},r.a.createElement(F.a,{href:"#register"},"Relationships")),r.a.createElement("li",{className:"navmenu-list_item"},r.a.createElement(F.a,{href:"#register"},"Users")),r.a.createElement("li",{className:"navmenu-list_item"},r.a.createElement(F.a,{href:"#register"},"Sign up")),r.a.createElement("li",{className:"navmenu-list_item"},r.a.createElement(F.a,{href:"#register"},"Terms and Conditions"))),r.a.createElement("ul",{className:"navmenu-list"},r.a.createElement("li",{className:"navmenu-list_item"},r.a.createElement(F.a,{href:"#register"},"How it works")),r.a.createElement("li",{className:"navmenu-list_item"},r.a.createElement(F.a,{href:"#register"},"Partnership")),r.a.createElement("li",{className:"navmenu-list_item"},r.a.createElement(F.a,{href:"#register"},"Help")),r.a.createElement("li",{className:"navmenu-list_item"},r.a.createElement(F.a,{href:"#register"},"Leave testimonial")),r.a.createElement("li",{className:"navmenu-list_item"},r.a.createElement(F.a,{href:"#register"},"Contact us"))),r.a.createElement("ul",{className:"navmenu-list"},r.a.createElement("li",{className:"navmenu-list_item"},r.a.createElement(F.a,{href:"#register"},"Articles")),r.a.createElement("li",{className:"navmenu-list_item"},r.a.createElement(F.a,{href:"#register"},"Our news")),r.a.createElement("li",{className:"navmenu-list_item"},r.a.createElement(F.a,{href:"#register"},"Testimonials")),r.a.createElement("li",{className:"navmenu-list_item"},r.a.createElement(F.a,{href:"#register"},"Licenses")),r.a.createElement("li",{className:"navmenu-list_item"},r.a.createElement(F.a,{href:"#register"},"Privacy Policy")))))}))),ae=a(35),ne=a.n(ae),re=a(104),se=(a(98),Object(n.createContext)());var le=Object(i.b)((function(e){return{spinner:e.spinner,modal:e.modal,mobileMenuOpen:e.mobileMenuOpen}}),{closeMobileMenu:z})((function(e){var t=e.spinner,a=e.modal,s=e.mobileMenuOpen,l=e.closeMobileMenu,i=Object(n.useState)(!1),c=Object(S.a)(i,2),o=c[0],m=c[1],u=Object(n.useState)(!1),p=Object(S.a)(u,2),f=p[0],d=p[1];return Object(n.useEffect)((function(){window.innerWidth<768?m(!0):m(!1),window.innerWidth>=1024?d(!0):d(!1)}),[]),r.a.createElement(se.Provider,{value:{isMobile:o,isDesktop:f}},r.a.createElement(ne.a,{onSwipeLeft:function(){console.log("swipe"),l()}},r.a.createElement("header",null,r.a.createElement(P,null)),r.a.createElement("main",null,r.a.createElement(W,null),r.a.createElement(A,null),r.a.createElement($,null),r.a.createElement(Y,null)),r.a.createElement(K,null),s&&r.a.createElement(te,null)),r.a.createElement(re.a,{in:a.open,timeout:300,classNames:"modalAnimation",unmountOnExit:!0},r.a.createElement(ee,{response:a.response})),t&&r.a.createElement(V,null))}));a(99),a(100);l.a.render(r.a.createElement(i.a,{store:k},r.a.createElement(le,null)),document.getElementById("root"))},14:function(e,t,a){},38:function(e,t,a){e.exports=a(101)},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){e.exports=a.p+"static/media/photo-cover.3a41f082.svg"},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[38,1,2]]]);
//# sourceMappingURL=main.3eae048b.chunk.js.map